%%
%% This is file `otfontdef.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% otfontdef.dtx  (with options: `otfd')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from otfontdef.sty.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file otfontdef.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
\@ifundefined{@nodocument}
  {\ProvidesFile{otfontdef.sty}}
  {\NeedsTeXFormat{LaTeX2e}\ProvidesPackage{otfontdef}}
  [2005/06/04 v0.1e OpenType font definition]
\newcommand\otf@disable@preamblecmds{%
  \def\@gobble@optional{%
    \@ifnextchar[\@gobble@optional@{}%]
  }%
  \def\@gobble@optional@[##1]{}%
  \def\NeedsTeXFormat##1{\@gobble@optional}%
  \def\ProvidesPackage##1{\@gobble@optional}%
  \let\DeclareOption\@gobbletwo
  \let\ExecuteOptions\@gobble
  \def\ProcessOptions{\@ifstar\@gobble{}}%
}
\ifx\@nodocument\relax
  \PackageWarningNoLine{otfontdef}{Please\space load\space me\space
  in\space the\space preamble.\MessageBreak
  I'm\space doing\space my\space best\space to\space continue\space anyway}%
  \@ifundefined{define@key}{
    \begingroup
    \catcode32=10
    \otf@disable@preamblecmds
    \globaldefs=1
    \input keyval.sty
    \endgroup
  }{}%
\else
  \RequirePackage{keyval}[1999/03/16 v1.13]
\fi
\newcommand\otf@makeglobal[1]{
  \global\expandafter\let\csname #1\expandafter\endcsname
  \csname #1\endcsname
}
\ifx\@nodocument\relax\else
  \let\otf@makeglobal\@gobble
\fi
\newif\ifotf@trace\otf@tracefalse
\newcommand*\otf@info[1]{}
\ifx\@nodocument\relax\else
  \DeclareOption{trace}{\otf@tracetrue}
  \ProcessOptions\relax
  \ifotf@trace
    \def\otf@info#1{\PackageInfo{otfontdef}{#1}}
  \fi
\fi
\otf@makeglobal{otf@info}
\newif\ifotf@options
\otf@optionsfalse
\otf@makeglobal{ifotf@options}
\otf@makeglobal{otf@optionstrue}
\otf@makeglobal{otf@optionsfalse}
\newcommand\otf@keys{}
\newcommand\otf@definekey[1]{%
  \define@key{otf}{#1}{%
    \@ifundefined{otf@@#1}{%
      \@namedef{otf@@#1}{##1}%
    }{}%
  }%
  \expandafter\let\csname otf@@#1\endcsname\relax
  \g@addto@macro\otf@keys{\do{#1}}%
  \otf@makeglobal{otf@@#1}%
  \otf@makeglobal{KV@otf@#1}%
}
\newcommand\otf@default@keys{}
\newcommand\otf@definedefault[2]{%
  \@namedef{KV@otf@#1@default}{#2}%
  \edef\otf@default@keys{\otf@default@keys,#1}%
  \otf@makeglobal{KV@otf@#1@default}
}
\otf@definekey{family}
\otf@definekey{weight}
\otf@definekey{shape}
\otf@definekey{optical}
\otf@definekey{variant}
\otf@definekey{figures}
\otf@definekey{spacing}
\otf@definekey{encoding}
\otf@definekey{size}
\otf@definekey{scale}
\otf@makeglobal{otf@keys}
\otf@definedefault{weight}
  {\expandafter\KV@otf@weight\expandafter{\otf@Regular}}
\otf@definedefault{optical}
  {\expandafter\KV@otf@optical\expandafter{\otf@Text}}
\otf@definedefault{variant}
  {\expandafter\otf@splitname@int\f@family--\@empty}
\otf@definedefault{figures}
  {\expandafter\otf@splitname@int\f@family--\@empty}
\otf@definedefault{encoding}
  {\expandafter\KV@otf@encoding\expandafter{\f@encoding}}
\otf@definedefault{size}
  {\expandafter\KV@otf@size\expandafter{\f@size}}
\otf@definedefault{shape}
  {\expandafter\KV@otf@shape\expandafter{\otf@Regular}}
\otf@makeglobal{otf@default@keys}
\newcommand*\otf@Regular{Regular}
\newcommand*\otf@Text{Text}
\newcommand*\otf@Ornaments{Ornaments}
\@onelevel@sanitize\otf@Regular
\@onelevel@sanitize\otf@Text
\@onelevel@sanitize\otf@Ornaments
\otf@makeglobal{otf@Regular}
\otf@makeglobal{otf@Text}
\otf@makeglobal{otf@Ornaments}
\ifx\@nodocument\relax
  \begingroup
  \def\DeclareSizeFunction#1#2{\endgroup\global\@namedef{s@fct@#1}{#2}}%
  \expandafter
\fi
\DeclareSizeFunction{otf}{%
  \ifotf@options
    \otf@get@options
  \else
    \ifx\mandatory@arg\@empty\else
      \otf@get@external@font
    \fi
  \fi
}
\newcommand\otf@get@options{%
  \@expandtwoargs\setkeys{otf}{\optional@arg}%
}
\otf@makeglobal{otf@get@options}
\newcommand\otf@splitname@ext{}
\def\otf@splitname@ext#1-#2-#3\@empty{%
  \def\otf@@family{#1}%
  \def\otf@@shape{#2}%
  \ifx\otf@@shape\@empty
    \let\otf@@shape\relax
  \fi
}
\newcommand\otf@splitname@int{}
\def\otf@splitname@int#1-#2-#3\@empty{%
  \KV@otf@family{#1}%
  \def\@tempa{#2}%
  \ifx\@tempa\otf@Ornaments
    \KV@otf@variant{orn}%
  \else
    \KV@otf@figures{#2}%
  \fi
}
\otf@makeglobal{otf@splitname@ext}
\otf@makeglobal{otf@splitname@int}
\newcommand\otf@get@external@font{%
  \expandafter\otf@splitname@ext\mandatory@arg--\@empty
  \otf@optionstrue
  \try@size@range
  \@expandtwoargs\setkeys{otf}{\otf@default@keys}%
  \begingroup
  \def\do##1{\otf@showoption{##1}\MessageBreak}%
  \otf@info{Using\space configuration\MessageBreak
    \otf@keys for\space font\space\font@name}%
  \endgroup
  \@ifundefined{otf@scheme@@\otf@@family}{\otf@scheme@default}{%
    \@nameuse{otf@scheme@@\otf@@family}%
  }%
  \otf@info{Trying\space to\space load\space external\space font\MessageBreak
    `\external@font'}%
}
\otf@makeglobal{otf@get@external@font}
\newcommand\otf@head{}
\newcommand\otf@tail{}
\newcommand\otf@scheme@default{%
  \begingroup
  \edef\@tempa{\lowercase{\def\noexpand\otf@tail{%
    \otf@opt\otf@@figures
    \otf@opt\otf@@variant
    \otf@opt\otf@@spacing
    \otf@@encoding
  }}}\@tempa
  \edef\otf@head{%
    \ifx\otf@@weight\otf@Regular\else\otf@@weight\fi
    \otf@format@shape\otf@@shape
    \ifx\otf@@optical\otf@Text\else\otf@@optical\fi}%
  \ifx\otf@head\@empty
    \edef\otf@head{\otf@@family-\otf@Regular}%
  \else
    \edef\otf@head{\otf@@family-\otf@head}%
  \fi
  \@tempdimb\otf@@size\p@
  \@ifundefined{otf@@scale}{}{%
    \@tempdimb \otf@@scale\@tempdimb
  }%
  \edef\@tempa{\endgroup\def\noexpand\external@font{%
    \otf@head-\otf@tail\space at\space\the\@tempdimb}}%
  \@tempa
}
\otf@makeglobal{otf@scheme@default}
\newcommand\otf@format@shape[1]{%
  \@ifundefined{otf@format@shape@#1}{#1}{\@nameuse{otf@format@shape@#1}}%
}
\newcommand\otf@format@shape@Regular{}%
\newcommand\otf@format@shape@Italic{It}%
\newcommand\otf@format@shape@It{It}%
\otf@makeglobal{otf@format@shape}
\otf@makeglobal{otf@format@shape@Regular}
\otf@makeglobal{otf@format@shape@Italic}
\otf@makeglobal{otf@format@shape@It}
\newcommand*\DeclareFontNamingScheme[1]{%
  \@namedef{otf@scheme@@#1}%
}
\newcommand*\otf@opt[1]{%
  \ifx\relax#1\@empty\else\if\@empty#1\@empty\else#1-\fi\fi
}
\newcommand*\otf@showoption[1]{%
  \@spaces #1\space=\space\@ifundefined{otf@@#1}{<undefined>}{%
    \expandafter\expandafter\expandafter\strip@prefix
    \expandafter\meaning\csname otf@@#1\endcsname}
}
\otf@makeglobal{otf@opt}
\otf@makeglobal{otf@showoption}
\endinput
%%
%% End of file `otfontdef.sty'.
